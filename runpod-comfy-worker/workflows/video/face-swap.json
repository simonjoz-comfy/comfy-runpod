{"id":"3f55786b-a84d-464b-bb5f-310b128cfb90","revision":0,"last_node_id":61,"last_link_id":59,"nodes":[{"id":20,"type":"Note","pos":[-496.62249755859375,-192.71641540527344],"size":[401.4059143066406,88],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"text":"","widget_ue_connectable":{}},"widgets_values":["1. Upload target face image"],"color":"#432","bgcolor":"#653"},{"id":21,"type":"Note","pos":[-77.16516876220703,-191.73318481445312],"size":[371.4639892578125,88],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"text":"","widget_ue_connectable":{}},"widgets_values":["1. Upload video file\n2. Set frame limit: for a 10s video at 25fps, enter 250\n3. Set mode to 1, skip every 2nd frame"],"color":"#432","bgcolor":"#653"},{"id":22,"type":"Note","pos":[314.37261962890625,-193.85427856445312],"size":[421.0261535644531,91.1483154296875],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{"text":"","widget_ue_connectable":{}},"widgets_values":["1. Interpolate frames Ã—2 to restore original frame count"],"color":"#432","bgcolor":"#653"},{"id":1,"type":"VHS_LoadVideo","pos":[-252.8391571044922,-42.058712005615234],"size":[340,310],"flags":{"collapsed":false},"order":4,"mode":4,"inputs":[{"label":"Batch Manager","localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"COMBO","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"label":"Image","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[1]},{"label":"Frame Count","localized_name":"frame_count","name":"frame_count","type":"INT","slot_index":1,"links":null},{"label":"Audio","localized_name":"audio","name":"audio","type":"AUDIO","slot_index":2,"links":[24]},{"label":"Video Info","localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":null}],"title":"Load Video","properties":{"cnr_id":"comfyui-videohelpersuite","ver":"4c7858ddd5126f7293dc3c9f6e0fc4c263cde079","Node name for S&R":"VHS_LoadVideo","widget_ue_connectable":{}},"widgets_values":{"video":"01.mp4","force_rate":25,"custom_width":0,"custom_height":0,"frame_load_cap":330,"skip_first_frames":0,"select_every_nth":2,"format":"AnimateDiff","choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"frame_load_cap":330,"skip_first_frames":0,"force_rate":25,"filename":"01.mp4","type":"input","format":"video/mp4","select_every_nth":2,"value":"video/path/to/original_video.mp4","name":"original_video.mp4","url":"https://example.com/original_video.mp4"}}}},{"id":3,"type":"LoadImage","pos":[-492.8648681640625,-42.463863372802734],"size":[399.3805236816406,535.341796875],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"Image","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[2]},{"label":"Mask","localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["ComfyUI_00004_.png","image"]},{"id":2,"type":"ReActorFaceSwap","pos":[97.16111755371094,-42.058712005615234],"size":[315,358],"flags":{},"order":8,"mode":4,"inputs":[{"label":"Target Image","localized_name":"input_image","name":"input_image","type":"IMAGE","link":1},{"label":"Source Image","localized_name":"source_image","name":"source_image","shape":7,"type":"IMAGE","link":2},{"label":"Face Model","localized_name":"face_model","name":"face_model","shape":7,"type":"FACE_MODEL","link":null},{"label":"Face Boost","localized_name":"face_boost","name":"face_boost","shape":7,"type":"FACE_BOOST","link":null},{"localized_name":"enabled","name":"enabled","type":"BOOLEAN","widget":{"name":"enabled"},"link":null},{"localized_name":"swap_model","name":"swap_model","type":"COMBO","widget":{"name":"swap_model"},"link":null},{"localized_name":"facedetection","name":"facedetection","type":"COMBO","widget":{"name":"facedetection"},"link":null},{"localized_name":"face_restore_model","name":"face_restore_model","type":"COMBO","widget":{"name":"face_restore_model"},"link":null},{"localized_name":"face_restore_visibility","name":"face_restore_visibility","type":"FLOAT","widget":{"name":"face_restore_visibility"},"link":null},{"localized_name":"codeformer_weight","name":"codeformer_weight","type":"FLOAT","widget":{"name":"codeformer_weight"},"link":null},{"localized_name":"detect_gender_input","name":"detect_gender_input","type":"COMBO","widget":{"name":"detect_gender_input"},"link":null},{"localized_name":"detect_gender_source","name":"detect_gender_source","type":"COMBO","widget":{"name":"detect_gender_source"},"link":null},{"localized_name":"input_faces_index","name":"input_faces_index","type":"STRING","widget":{"name":"input_faces_index"},"link":null},{"localized_name":"source_faces_index","name":"source_faces_index","type":"STRING","widget":{"name":"source_faces_index"},"link":null},{"localized_name":"console_log_level","name":"console_log_level","type":"COMBO","widget":{"name":"console_log_level"},"link":null}],"outputs":[{"label":"Image","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[5,22]},{"label":"Face Model","localized_name":"FACE_MODEL","name":"FACE_MODEL","type":"FACE_MODEL","links":null}],"title":"ReActor - Fast Face Swap","properties":{"Node name for S&R":"ReActorFaceSwap","cnr_id":"comfyui-reactor-node","ver":"a43075813dbd17de9c51c9f6e0fc4c2631fbdd4c725478db20f530ac25dfe","widget_ue_connectable":{}},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","GPEN-BFR-512.onnx",0.49,0.5,"no","no","0","0",1]},{"id":18,"type":"PreviewImage","pos":[746.736572265625,-37.09375762939453],"size":[428.6212463378906,534.8731079101562],"flags":{},"order":7,"mode":0,"inputs":[{"label":"Image","localized_name":"images","name":"images","type":"IMAGE","link":22}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":19,"type":"VHS_VideoCombine","pos":[791.4824829101562,-45.03144836425781],"size":[220.3603515625,334],"flags":{},"order":15,"mode":4,"inputs":[{"label":"Image","localized_name":"images","name":"images","type":"IMAGE","link":23},{"label":"Audio","localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":24},{"label":"Batch Manager","localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"label":"Filenames","localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"title":"Video Combine","properties":{"cnr_id":"comfyui-videohelpersuite","ver":"4c7858ddd5126f7293dc3c9f6e0fc4c263cde079","Node name for S&R":"VHS_VideoCombine","widget_ue_connectable":{}},"widgets_values":{"frame_rate":25,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00016-audio.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":25,"url":"https://liblibai-tmp-image.liblib.cloud/sd-images/f748e0fab77058f1ec35440fa2f329c1cceac11c3765dd84cf974da0e26d7303.mp4","coverUrl":null,"workflow":"AnimateDiff_00016.png","fullpath":"D:\\ComfyUI-aki-v1\\ComfyUI-aki-v1\\output\\AnimateDiff_00016-audio.mp4"}}}},{"id":6,"type":"RIFE VFI","pos":[437.1606140136719,-42.058712005615234],"size":[319.20001220703125,198],"flags":{},"order":12,"mode":4,"inputs":[{"label":"Image","localized_name":"frames","name":"frames","type":"IMAGE","link":5},{"label":"Interpolation Rules (Optional)","localized_name":"optional_interpolation_states","name":"optional_interpolation_states","shape":7,"type":"INTERPOLATION_STATES","link":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null},{"localized_name":"clear_cache_after_n_frames","name":"clear_cache_after_n_frames","type":"INT","widget":{"name":"clear_cache_after_n_frames"},"link":null},{"localized_name":"multiplier","name":"multiplier","type":"INT","widget":{"name":"multiplier"},"link":null},{"localized_name":"fast_mode","name":"fast_mode","type":"BOOLEAN","widget":{"name":"fast_mode"},"link":null},{"localized_name":"ensemble","name":"ensemble","type":"BOOLEAN","widget":{"name":"ensemble"},"link":null},{"localized_name":"scale_factor","name":"scale_factor","type":"COMBO","widget":{"name":"scale_factor"},"link":null}],"outputs":[{"label":"Image","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[23]}],"properties":{"cnr_id":"comfyui-frame-interpolation","ver":"c336f7184cb1ac1243381e725fea1ad2c0a10c09","Node name for S&R":"RIFE VFI","widget_ue_connectable":{}},"widgets_values":["rife47.pth",10,2,false,true,1]}],"links":[[1,1,0,2,0,"IMAGE"],[2,3,0,2,1,"IMAGE"],[5,2,0,6,0,"IMAGE"],[22,2,0,18,0,"IMAGE"],[23,6,0,19,0,"IMAGE"],[24,1,2,19,1,"VHS_AUDIO"]],"groups":[{"id":1,"title":"Video Face Swap","bounding":[-502.83941650390625,-302.058837890625,2236.9521484375,1002.5694580078125],"color":"#b06634","font_size":60,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.8390545288824014,"offset":[388.1662228632122,411.3652136068596]},"0246.VERSION":[0,0,4],"ue_links":[],"workspace_info":{"id":"dzVd1PnJ-xzkpcB2wgs_B"},"links_added_by_ue":[],"frontendVersion":"1.17.11","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}